module.exports=function(){const{ipcRenderer:e}=require("electron"),r=async(e=!1)=>{const r=e?"https://pc-api.xuexi.cn/open/api/score/today/query":"https://pc-api.xuexi.cn/open/api/score/get",t=await fetch(r,{credentials:"include"}),o=await t.json();if(200!=o.code)throw new Error(o.error);return o.data.score},t=e=>e.currentScore>=e.dayMaxScore;return{getScore:r,getScoreMethods:async()=>{const e=await fetch("https://pc-api.xuexi.cn/open/api/score/today/queryrate",{credentials:"include"}),r=await e.json();if(200!=r.code)throw new Error(r.error);return r.data},isDone:t,getTheGapOf:e=>t(e)?0:e.dayMaxScore-e.currentScore,findScoreMethodsByNames:(e,r)=>r.map(r=>e.find(e=>e.name==r)),showScore:async()=>{const t=await r(!0),o=await r(),a=`${(new Date).toLocaleString("zh-CN",{hour12:!1})} 今日积分: ${t} 总积分: ${o}`;e.send("log",a);const c={today:t,total:o};return e.send("refresh-menu",{score:c}),c}}}();